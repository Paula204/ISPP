<div class="row justify-content-center">
    <div class="col-12">
        <div *ngIf="!currentAccount.authorities.includes('ROLE_SPONSOR') && !currentAccount.authorities.includes('ROLE_ADMIN')"  class="carousel-inner" 
                style="max-height:120px; max-width: 720px">
            <div class="carousel-item active">
                <a href="{{sponsorship.targetUrl}}"><img width="100%" class="d-block img-responsive" src="{{sponsorship.banner}}"></a>
            </div>
        </div>
    </div>
</div>
</br>
<div class="row justify-content-between">
    <div  style="margin-top:10px; margin-left:15px">
            <jhi-tweet url={{abc}} text={{tournament.title}}></jhi-tweet>
    </div>
    <div style="margin-top:6px;margin-right:15px">
        <jhi-like url={{abc}}></jhi-like>
    </div>
</div>
<div class="row justify-content-center">
    <div class="col-12">
        <div *ngIf="tournament">
            <jhi-alert-error></jhi-alert-error>
            <img class="img-fluid mx-auto d-block" width="200" height="auto" src="{{tournament.imageUrl}}"/>
            <div *ngIf="tournament.imagen">
            <img class="img-fluid mx-auto d-block" width="200" height="auto" src="{{'data:image/jpg;base64,' + tournament.imagen}}"/>
            </div>
            <div class="row-md jh-entity-details">
                <table class="table detailTable" style="border: 2px solid #2792f2; margin: 25px auto; border-radius: 0.25rem;
                border-collapse: separate;
                border-spacing: 0;">
                  <thead>
                    <tr>
                      <th colspan="2">
                        <h2 class="text-center">{{tournament.title}}</h2>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.description">Description</p></td>
                        <td><p> {{tournament.description}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.meetingDate">Meeting Date</p></td>
                        <td><p> {{tournament.meetingDate | date:'dd-MM-yyyy HH:hh'}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.meetingPoint">Meeting Point</p></td>
                        <td><p> {{tournament.meetingPoint}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.city">City</p></td>
                        <td><p> {{tournament.city}}</p> </td>
                    </tr>
                    <tr>
                        <td><p class="bold"jhiTranslate="thorneoApp.tournament.price">Price</p></td>
                        <td><p> {{tournament.price}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.playerSize">Player Size</p></td>
                        <td><p>{{tournament.playerSize}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold" jhiTranslate="thorneoApp.tournament.rewards">Rewards</p></td>
                        <td><p> {{tournament.rewards}}</p></td>
                    </tr>
                    <tr>
                        <td><p class="bold"jhiTranslate="thorneoApp.tournament.type">Type</p></td>
                        <td><p jhiTranslate="{{'thorneoApp.Type.' + tournament.type}}">{{tournament.type}}</p></td>
                    </tr>
                    <tr>
                        <td><p  class="bold"jhiTranslate="thorneoApp.tournament.user">User</p></td>
                        <td><p>{{tournament.user?.login}}</p></td>
                    </tr>
                    <tr>
                        <td><p  class="bold"jhiTranslate="thorneoApp.tournament.game">Game</p></td>
                        <td>
                            <span *ngIf="tournament.game">
                                <a [routerLink]="['/game', tournament.game?.id, 'view']">{{tournament.game?.title}}</a>
                            </span>
                        </td>
                    </tr>
                  </tbody>
                </table>
                
            
                <table class="table detailTable" style="border: 2px solid #2792f2; margin: 25px auto; border-radius: 0.25rem;
                border-collapse: separate;
                border-spacing: 0;"  *ngIf="parti != false"> 
                <thead>
                    <tr>
                        <th colspan="3"><h2 class="text-center" jhiTranslate="thorneoApp.tournament.participation">Participants</h2></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let participation of tournament.participations">
                        <td>{{participation.user.login}}</td>
                        <td>{{participation.user.firstName}}</td>
                        <td>{{participation.user.lastName}}</td>
                    </tr>
            
                    <tr class="gold" *ngIf="winner != null">
                        <td>
                            <p class="bold" jhiTranslate="thorneoApp.tournament.winner"> Winner>
                        </td>
                        <td colspan="2">{{winner.user.login}}</td>
                    </tr>
                </tbody>                
                </table>
            </div>

            <jhi-alert-error></jhi-alert-error>
            <button type="submit"
                    (click)="previousState()"
                    class="btn btn-info">
                <fa-icon [icon]="'arrow-left'"></fa-icon>&nbsp;<span class="d-none d-md-inline" jhiTranslate="entity.action.back"> Back</span>
            </button>

            <button *ngIf="tournament.user.login==currentAccount.login && tournament.winner == null" type="button"
                    [routerLink]="['/tournament', tournament.id, 'edit']"
                    class="btn btn-primary">
                <fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span class="d-none d-md-inline" jhiTranslate="entity.action.edit"> Edit</span>
            </button>
           
            <div class="d-inline"  *ngIf="tournament.participations.length > 1 && tournament.meetingDate.isBefore(currentDate)">
                        <ng-template></ng-template><button type="button "
                                                        [routerLink]="['/tournament', tournament.id, 'manager' ]"
                                                        class="btn btn-primary">
                            <fa-icon [icon]="'wrench'"></fa-icon>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.manage">Manage</span>
                        </button></ng-template>
            </div>
            <button *ngIf="tournament.winner == null && tournament.user.login != currentAccount.login && tournament.participations.length < tournament.playerSize && estaEn!=false" type="submit"
                    [disabled]="!soyMayor && mayor"  (click)="signOn()"
                    class="btn btn-primary green-background">
                <fa-icon [icon]="'book'"></fa-icon>&nbsp;<span class="d-none d-md-inline" jhiTranslate="entity.action.signOn"> Sign On</span>
            </button>
            <div *ngIf="mayor">
                    <input type="checkbox" (click)="setMayor()"> 
                    <label jhiTranslate="global.messages.info.register.mayor"></label>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-12">
        <div *ngIf="!currentAccount.authorities.includes('ROLE_SPONSOR') && !currentAccount.authorities.includes('ROLE_ADMIN')"  class="carousel-inner" 
                style="max-height:120px; max-width: 720px">
            <div class="carousel-item active">
                <a href="{{sponsorship.targetUrl}}"><img width="100%" class="d-block img-responsive" src="{{sponsorship.banner}}"></a>
            </div>
        </div>
    </div>
</div>

